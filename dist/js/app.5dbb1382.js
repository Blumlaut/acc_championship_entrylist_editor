(function(){"use strict";var e={6729:function(e,t,n){var r=n(5130),a=n(6768);const o={id:"app"};function s(e,t,n,r,s,i){const l=(0,a.g2)("JsonEditor");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(l)])}var i=n(4232);const l=e=>((0,a.Qi)("data-v-31e63877"),e=e(),(0,a.jt)(),e),c={class:"json-editor"},d=l((()=>(0,a.Lk)("h1",null,"ACC Championship Entrylist Editor",-1))),u={key:1,class:"editor-container"},p={class:"car-list"},h=l((()=>(0,a.Lk)("h2",null,"Cars",-1))),f=["onClick"],C={key:0,class:"car-details"},v=l((()=>(0,a.Lk)("h2",null,"Edit Car Info",-1))),k=["for"],g=["id","onUpdate:modelValue"],j={key:1,class:"driver-details"},m=l((()=>(0,a.Lk)("h2",null,"Edit Driver Info",-1))),y=["onClick"],b=["for"],E=["id","onUpdate:modelValue"],x={key:2};function D(e,t,n,o,s,l){return(0,a.uX)(),(0,a.CE)("div",c,[d,(0,a.Lk)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>l.onFileChange&&l.onFileChange(...e)),accept:"text/json"},null,32),s.jsonData?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>l.downloadJson&&l.downloadJson(...e))},"Export")):(0,a.Q3)("",!0),s.jsonData?((0,a.uX)(),(0,a.CE)("div",u,[(0,a.Lk)("div",p,[h,(0,a.Lk)("button",{style:{"margin-right":"5px","margin-bottom":"5px"},onClick:t[2]||(t[2]=(...e)=>l.addNewCar&&l.addNewCar(...e))},"Add Car"),(0,a.Lk)("button",{style:{"margin-right":"5px","margin-bottom":"5px","background-color":"darkred"},onClick:t[3]||(t[3]=(...e)=>l.deleteCar&&l.deleteCar(...e))},"Remove Car"),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.jsonData.cars,((e,t)=>((0,a.uX)(),(0,a.CE)("li",{key:t,onClick:e=>l.selectCar(t),class:(0,i.C4)({"bold-text":this.selectedCar===t})},(0,i.v_)(e.info.teamName)+" - "+(0,i.v_)(e.info.displayName)+" - #"+(0,i.v_)(e.info.raceNumber),11,f)))),128))])]),null!==s.selectedCar?((0,a.uX)(),(0,a.CE)("div",C,[v,(0,a.Lk)("input",{ref:"carjsonUpload",type:"file",onChange:t[4]||(t[4]=(...e)=>l.onCarFile&&l.onCarFile(...e)),accept:"text/json",hidden:""},null,544),(0,a.Lk)("button",{style:{"margin-right":"5px","margin-bottom":"5px"},onClick:t[5]||(t[5]=e=>l.carjsonUpload())},"Import from car.json"),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.jsonData.cars[s.selectedCar].info,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"input-group"},[(0,a.Lk)("label",{for:t},(0,i.v_)(t)+":",9,k),(0,a.bo)((0,a.Lk)("input",{id:t,type:"text","onUpdate:modelValue":e=>s.jsonData.cars[s.selectedCar].info[t]=e},null,8,g),[[r.Jo,s.jsonData.cars[s.selectedCar].info[t]]])])))),128))])):(0,a.Q3)("",!0),null!==s.selectedCar?((0,a.uX)(),(0,a.CE)("div",j,[m,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.jsonData.cars[s.selectedCar].drivers,((e,n)=>((0,a.uX)(),(0,a.CE)("div",{key:n,class:"driver-info"},[(0,a.Lk)("h3",null,"Driver "+(0,i.v_)(n+1),1),0==n?((0,a.uX)(),(0,a.CE)("button",{key:0,style:{"margin-right":"5px","margin-bottom":"5px"},onClick:t[6]||(t[6]=e=>l.addNewDriver(s.selectedCar))},"Add Driver")):(0,a.Q3)("",!0),n>0?((0,a.uX)(),(0,a.CE)("button",{key:1,style:{"margin-right":"5px","margin-bottom":"5px","background-color":"darkred"},onClick:e=>l.removeDriver(s.selectedCar,n)},"Remove Driver",8,y)):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.info,((t,n)=>((0,a.uX)(),(0,a.CE)("div",{key:n,class:"input-group"},[(0,a.Lk)("label",{for:n},(0,i.v_)(n)+":",9,b),(0,a.bo)((0,a.Lk)("input",{id:n,type:"text","onUpdate:modelValue":t=>e.info[n]=t},null,8,E),[[r.Jo,e.info[n]]])])))),128))])))),128))])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),s.jsonData?((0,a.uX)(),(0,a.CE)("h3",x,"Raw JSON:")):(0,a.Q3)("",!0),s.jsonData?(0,a.bo)(((0,a.uX)(),(0,a.CE)("textarea",{key:3,readonly:"","onUpdate:modelValue":t[7]||(t[7]=e=>s.jsonText=e),rows:"20",cols:"100"},null,512)),[[r.Jo,s.jsonText]]):(0,a.Q3)("",!0)])}n(4114),n(6573),n(8100),n(7936),n(7467),n(4732),n(9577),n(4603),n(7566),n(8721);var w={data(){return{jsonData:null,selectedCar:null,jsonText:""}},watch:{jsonData:{deep:!0,handler(e){this.jsonText=JSON.stringify(e,null,2)}}},methods:{carjsonUpload(){this.$refs.carjsonUpload.click()},downloadUtf16(e,t){var n,r=[];r.push(255,254);for(var a=0;a<e.length;++a)n=e.charCodeAt(a),r.push(255&n),r.push(n/256>>>0);var o=new Blob([new Uint8Array(r)],{type:"text/plain;charset=UTF-16LE;"}),s=URL.createObjectURL(o),i=document.createElement("a");if(i.href=s,i.download=t,document.createEvent){var l=document.createEvent("MouseEvents");l.initEvent("click",!0,!0),i.dispatchEvent(l)}else i.click()},onFileChange(e){const t=e.target.files[0],n=new FileReader;n.onload=e=>{var t=e.target.result;console.log(t),this.jsonData=JSON.parse(t),this.selectedCar=0,this.jsonText=JSON.stringify(this.jsonData,null,2)},n.readAsText(t,"UTF-16LE")},onCarFile(e){const t=e.target.files[0],n=new FileReader;n.onload=e=>{const t=e.target.result,n=JSON.parse(t);Object.assign(this.jsonData.cars[this.selectedCar].info,n)},n.readAsText(t,"UTF-16LE")},selectCar(e){this.selectedCar=e},addNewCar(){const e=JSON.parse(JSON.stringify(this.jsonData.cars[this.selectedCar]));this.jsonData.cars.push(e)},deleteCar(){null!==this.selectedCar&&(this.jsonData.cars.splice(this.selectedCar,1),this.selectedCar=this.jsonData.cars.length>0?0:null)},addNewDriver(e){const t=JSON.parse(JSON.stringify(this.jsonData.cars[this.selectedCar].drivers[0]));this.jsonData.cars[e].drivers.push(t)},removeDriver(e,t){t>0&&this.jsonData.cars[e].drivers.splice(t,1)},downloadJson(){this.downloadUtf16(this.jsonText,"championship_entrylist.json")}}},O=n(1241);const L=(0,O.A)(w,[["render",D],["__scopeId","data-v-31e63877"]]);var X=L,F={components:{JsonEditor:X}};const J=(0,O.A)(F,[["render",s]]);var N=J;(0,r.Ef)(N).mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var s=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],o=e[d][2];for(var i=!0,l=0;l<r.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,s=r[0],i=r[1],l=r[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(l)var d=l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},r=self["webpackChunkacc_championship_entrylist_editor"]=self["webpackChunkacc_championship_entrylist_editor"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(6729)}));r=n.O(r)})();
//# sourceMappingURL=app.5dbb1382.js.map