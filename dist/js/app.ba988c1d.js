(function(){"use strict";var e={3534:function(e,t,n){var a=n(5130),o=n(6768);const r={id:"app"};function s(e,t,n,a,s,l){const i=(0,o.g2)("JsonEditor");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)(i)])}var l=n(4232);const i=e=>((0,o.Qi)("data-v-1a2086f1"),e=e(),(0,o.jt)(),e),c={class:"json-editor"},u=i((()=>(0,o.Lk)("h1",null,"ACC Championship Entrylist Editor",-1))),d={key:0,class:"editor-container"},f={class:"car-list"},h=i((()=>(0,o.Lk)("h2",null,"Cars",-1))),p=["onClick"],C={key:0,class:"car-details"},v=i((()=>(0,o.Lk)("h2",null,"Edit Car Info",-1))),k=i((()=>(0,o.Lk)("a",null,"Import from car.json: ",-1))),j=["for"],E=["id","onUpdate:modelValue"],y={key:1,class:"driver-details"},b=i((()=>(0,o.Lk)("h2",null,"Edit Driver Info",-1))),g=["for"],m=["id","onUpdate:modelValue"],w={key:1};function L(e,t,n,r,s,i){return(0,o.uX)(),(0,o.CE)("div",c,[u,(0,o.Lk)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>i.onFileChange&&i.onFileChange(...e))},null,32),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.downloadJson&&i.downloadJson(...e))},"Export"),s.jsonData?((0,o.uX)(),(0,o.CE)("div",d,[(0,o.Lk)("div",f,[h,(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.addNewCar&&i.addNewCar(...e))},"Add Car"),(0,o.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>i.deleteCar&&i.deleteCar(...e))},"Delete Car"),(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.jsonData.cars,((e,t)=>((0,o.uX)(),(0,o.CE)("li",{key:t,onClick:e=>i.selectCar(t),class:(0,l.C4)({"bold-text":this.selectedCar===t})},(0,l.v_)(e.info.teamName)+" - "+(0,l.v_)(e.info.displayName)+" - #"+(0,l.v_)(e.info.raceNumber),11,p)))),128))])]),null!==s.selectedCar?((0,o.uX)(),(0,o.CE)("div",C,[v,k,(0,o.Lk)("input",{type:"file",onChange:t[4]||(t[4]=(...e)=>i.onCarFile&&i.onCarFile(...e))},null,32),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.jsonData.cars[s.selectedCar].info,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"input-group"},[(0,o.Lk)("label",{for:t},(0,l.v_)(t)+":",9,j),(0,o.bo)((0,o.Lk)("input",{id:t,type:"text","onUpdate:modelValue":e=>s.jsonData.cars[s.selectedCar].info[t]=e},null,8,E),[[a.Jo,s.jsonData.cars[s.selectedCar].info[t]]])])))),128))])):(0,o.Q3)("",!0),null!==s.selectedCar?((0,o.uX)(),(0,o.CE)("div",y,[b,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.jsonData.cars[s.selectedCar].drivers,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"driver-info"},[(0,o.Lk)("h3",null,"Driver "+(0,l.v_)(t+1),1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.info,((t,n)=>((0,o.uX)(),(0,o.CE)("div",{key:n,class:"input-group"},[(0,o.Lk)("label",{for:n},(0,l.v_)(n)+":",9,g),(0,o.bo)((0,o.Lk)("input",{id:n,type:"text","onUpdate:modelValue":t=>e.info[n]=t},null,8,m),[[a.Jo,e.info[n]]])])))),128))])))),128))])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),s.jsonData?((0,o.uX)(),(0,o.CE)("h3",w,"Raw JSON:")):(0,o.Q3)("",!0),s.jsonData?(0,o.bo)(((0,o.uX)(),(0,o.CE)("textarea",{key:2,"onUpdate:modelValue":t[5]||(t[5]=e=>s.jsonText=e),rows:"20",cols:"100"},null,512)),[[a.Jo,s.jsonText]]):(0,o.Q3)("",!0)])}n(4114),n(6573),n(8100),n(7936),n(7467),n(4732),n(9577),n(4603),n(7566),n(8721);var D={data(){return{jsonData:null,selectedCar:null,jsonText:""}},watch:{jsonData:{deep:!0,handler(e){this.jsonText=JSON.stringify(e,null,2)}}},methods:{downloadUtf16(e,t){var n,a=[];a.push(255,254);for(var o=0;o<e.length;++o)n=e.charCodeAt(o),a.push(255&n),a.push(n/256>>>0);var r=new Blob([new Uint8Array(a)],{type:"text/plain;charset=UTF-16LE;"}),s=URL.createObjectURL(r),l=document.createElement("a");if(l.href=s,l.download=t,document.createEvent){var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0),l.dispatchEvent(i)}else l.click()},onFileChange(e){const t=e.target.files[0],n=new FileReader;n.onload=e=>{var t=e.target.result;console.log(t),this.jsonData=JSON.parse(t),this.selectedCar=0,this.jsonText=JSON.stringify(this.jsonData,null,2)},n.readAsText(t,"UTF-16LE")},onCarFile(e){const t=e.target.files[0],n=new FileReader;n.onload=e=>{const t=e.target.result,n=JSON.parse(t);Object.assign(this.jsonData.cars[this.selectedCar].info,n)},n.readAsText(t,"UTF-16LE")},selectCar(e){this.selectedCar=e},addNewCar(){this.jsonData.cars=[...this.jsonData.cars,this.jsonData.cars[this.selectedCar]]},deleteCar(){null!==this.selectedCar&&(this.jsonData.cars.splice(this.selectedCar,1),this.selectedCar=this.jsonData.cars.length>0?0:null)},downloadJson(){this.downloadUtf16(this.jsonText,"championship_entrylist.json")}}},x=n(1241);const O=(0,x.A)(D,[["render",L],["__scopeId","data-v-1a2086f1"]]);var F=O,_={components:{JsonEditor:F}};const X=(0,x.A)(_,[["render",s]]);var J=X;(0,a.Ef)(J).mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,r){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],r=e[u][2];for(var l=!0,i=0;i<a.length;i++)(!1&r||s>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[i])}))?a.splice(i--,1):(l=!1,r<s&&(s=r));if(l){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,r,s=a[0],l=a[1],i=a[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(i)var u=i(n)}for(t&&t(a);c<s.length;c++)r=s[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},a=self["webpackChunkacc_championship_entrylist_editor"]=self["webpackChunkacc_championship_entrylist_editor"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(3534)}));a=n.O(a)})();
//# sourceMappingURL=app.ba988c1d.js.map