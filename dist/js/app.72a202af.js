(function(){"use strict";var e={5384:function(e,n,t){var o=t(5130),r=t(6768);const a={id:"app"};function i(e,n,t,o,i,l){const s=(0,r.g2)("JsonEditor");return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.bF)(s)])}var l=t(4232);const s=e=>((0,r.Qi)("data-v-6e30d6ac"),e=e(),(0,r.jt)(),e),u={class:"json-editor"},c=s((()=>(0,r.Lk)("h1",null,"ACC Championship Entrylist Editor",-1))),d={key:0,class:"editor-container"},f={class:"car-list"},p=s((()=>(0,r.Lk)("h2",null,"Cars",-1))),h=["onClick"],v={key:0,class:"car-details"},C=s((()=>(0,r.Lk)("h2",null,"Edit Car Info",-1))),k=s((()=>(0,r.Lk)("a",null,"Import from car.json: ",-1))),j=["for"],y=["id","onUpdate:modelValue"],g={key:1,class:"driver-details"},b=s((()=>(0,r.Lk)("h2",null,"Edit Driver Info",-1))),m=["for"],E=["id","onUpdate:modelValue"],x={key:1};function L(e,n,t,a,i,s){return(0,r.uX)(),(0,r.CE)("div",u,[c,(0,r.Lk)("input",{type:"file",onChange:n[0]||(n[0]=(...e)=>s.onFileChange&&s.onFileChange(...e))},null,32),(0,r.Lk)("button",{onClick:n[1]||(n[1]=(...e)=>s.downloadJson&&s.downloadJson(...e))},"Export"),i.jsonData?((0,r.uX)(),(0,r.CE)("div",d,[(0,r.Lk)("div",f,[p,(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.jsonData.cars,((e,n)=>((0,r.uX)(),(0,r.CE)("li",{key:n,onClick:e=>s.selectCar(n),class:(0,l.C4)({"bold-text":this.selectedCar===n})},(0,l.v_)(e.info.teamName)+" - "+(0,l.v_)(e.info.displayName)+" - #"+(0,l.v_)(e.info.raceNumber),11,h)))),128))])]),null!==i.selectedCar?((0,r.uX)(),(0,r.CE)("div",v,[C,k,(0,r.Lk)("input",{type:"file",onChange:n[2]||(n[2]=(...e)=>s.onCarFile&&s.onCarFile(...e))},null,32),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.jsonData.cars[i.selectedCar].info,((e,n)=>((0,r.uX)(),(0,r.CE)("div",{key:n,class:"input-group"},[(0,r.Lk)("label",{for:n},(0,l.v_)(n)+":",9,j),(0,r.bo)((0,r.Lk)("input",{id:n,type:"text","onUpdate:modelValue":e=>i.jsonData.cars[i.selectedCar].info[n]=e},null,8,y),[[o.Jo,i.jsonData.cars[i.selectedCar].info[n]]])])))),128))])):(0,r.Q3)("",!0),null!==i.selectedCar?((0,r.uX)(),(0,r.CE)("div",g,[b,((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.jsonData.cars[i.selectedCar].drivers,((e,n)=>((0,r.uX)(),(0,r.CE)("div",{key:n,class:"driver-info"},[(0,r.Lk)("h3",null,"Driver "+(0,l.v_)(n+1),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.info,((n,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"input-group"},[(0,r.Lk)("label",{for:t},(0,l.v_)(t)+":",9,m),(0,r.bo)((0,r.Lk)("input",{id:t,type:"text","onUpdate:modelValue":n=>e.info[t]=n},null,8,E),[[o.Jo,e.info[t]]])])))),128))])))),128))])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),i.jsonData?((0,r.uX)(),(0,r.CE)("h3",x,"Raw JSON:")):(0,r.Q3)("",!0),i.jsonData?(0,r.bo)(((0,r.uX)(),(0,r.CE)("textarea",{key:2,"onUpdate:modelValue":n[3]||(n[3]=e=>i.jsonText=e),rows:"20",cols:"100"},null,512)),[[o.Jo,i.jsonText]]):(0,r.Q3)("",!0)])}t(4603),t(7566),t(8721);var w={data(){return{jsonData:null,selectedCar:null,jsonText:""}},watch:{jsonData:{deep:!0,handler(e){this.jsonText=JSON.stringify(e,null,2)}}},methods:{utf16ToText(e){return e.replace(/\\u[0-9a-fA-F]{4}/gi,(e=>String.fromCharCode(parseInt(e.replace(/\\u/g,""),16))))},onFileChange(e){const n=e.target.files[0],t=new FileReader;t.onload=e=>{var n=this.utf16ToText(e.target.result);console.log(n),this.jsonData=JSON.parse(n),this.selectedCar=0,this.jsonText=JSON.stringify(this.jsonData,null,2)},t.readAsText(n)},onCarFile(e){const n=e.target.files[0],t=new FileReader;t.onload=e=>{var n=this.utf16ToText(e.target.result),t=JSON.parse(n);for(const o in t)this.jsonData.cars[this.selectedCar][o]=t[o]},t.readAsText(n)},selectCar(e){this.selectedCar=e},downloadJson(){const e=new Blob([this.jsonText],{type:"application/json"}),n=URL.createObjectURL(e),t=document.createElement("a");t.href=n,t.download="championship_entrylist.json",t.click(),URL.revokeObjectURL(n)}}},O=t(1241);const _=(0,O.A)(w,[["render",L],["__scopeId","data-v-6e30d6ac"]]);var T=_,D={components:{JsonEditor:T}};const F=(0,O.A)(D,[["render",i]]);var X=F;(0,o.Ef)(X).mount("#app")}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var a=n[o]={exports:{}};return e[o].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(n,o,r,a){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],a=e[c][2];for(var l=!0,s=0;s<o.length;s++)(!1&a||i>=a)&&Object.keys(t.O).every((function(e){return t.O[e](o[s])}))?o.splice(s--,1):(l=!1,a<i&&(i=a));if(l){e.splice(c--,1);var u=r();void 0!==u&&(n=u)}}return n}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,r,a]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var r,a,i=o[0],l=o[1],s=o[2],u=0;if(i.some((function(n){return 0!==e[n]}))){for(r in l)t.o(l,r)&&(t.m[r]=l[r]);if(s)var c=s(t)}for(n&&n(o);u<i.length;u++)a=i[u],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(c)},o=self["webpackChunkacc_championship_entrylist_editor"]=self["webpackChunkacc_championship_entrylist_editor"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(5384)}));o=t.O(o)})();
//# sourceMappingURL=app.72a202af.js.map