(function(){"use strict";var e={7576:function(e,n,t){var o=t(5130),a=t(6768);const r={id:"app"};function i(e,n,t,o,i,s){const l=(0,a.g2)("JsonEditor");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(l)])}var s=t(4232);const l=e=>((0,a.Qi)("data-v-01b6bb12"),e=e(),(0,a.jt)(),e),u={class:"json-editor"},c=l((()=>(0,a.Lk)("h1",null,"ACC Championship Entrylist Editor",-1))),d={key:0,class:"editor-container"},f={class:"car-list"},p=l((()=>(0,a.Lk)("h2",null,"Cars",-1))),h=["onClick"],v={key:0,class:"car-details"},C=l((()=>(0,a.Lk)("h2",null,"Edit Car Info",-1))),k=l((()=>(0,a.Lk)("a",null,"Import from car.json: ",-1))),j=["for"],E=["id","onUpdate:modelValue"],b={key:1,class:"driver-details"},y=l((()=>(0,a.Lk)("h2",null,"Edit Driver Info",-1))),m=["for"],g=["id","onUpdate:modelValue"],w={key:1};function L(e,n,t,r,i,l){return(0,a.uX)(),(0,a.CE)("div",u,[c,(0,a.Lk)("input",{type:"file",onChange:n[0]||(n[0]=(...e)=>l.onFileChange&&l.onFileChange(...e))},null,32),(0,a.Lk)("button",{onClick:n[1]||(n[1]=(...e)=>l.downloadJson&&l.downloadJson(...e))},"Export"),i.jsonData?((0,a.uX)(),(0,a.CE)("div",d,[(0,a.Lk)("div",f,[p,(0,a.Lk)("button",{onClick:n[2]||(n[2]=(...e)=>l.addNewCar&&l.addNewCar(...e))},"Add Car"),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.jsonData.cars,((e,n)=>((0,a.uX)(),(0,a.CE)("li",{key:n,onClick:e=>l.selectCar(n),class:(0,s.C4)({"bold-text":this.selectedCar===n})},(0,s.v_)(e.info.teamName)+" - "+(0,s.v_)(e.info.displayName)+" - #"+(0,s.v_)(e.info.raceNumber),11,h)))),128))])]),null!==i.selectedCar?((0,a.uX)(),(0,a.CE)("div",v,[C,k,(0,a.Lk)("input",{type:"file",onChange:n[3]||(n[3]=(...e)=>l.onCarFile&&l.onCarFile(...e))},null,32),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.jsonData.cars[i.selectedCar].info,((e,n)=>((0,a.uX)(),(0,a.CE)("div",{key:n,class:"input-group"},[(0,a.Lk)("label",{for:n},(0,s.v_)(n)+":",9,j),(0,a.bo)((0,a.Lk)("input",{id:n,type:"text","onUpdate:modelValue":e=>i.jsonData.cars[i.selectedCar].info[n]=e},null,8,E),[[o.Jo,i.jsonData.cars[i.selectedCar].info[n]]])])))),128))])):(0,a.Q3)("",!0),null!==i.selectedCar?((0,a.uX)(),(0,a.CE)("div",b,[y,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.jsonData.cars[i.selectedCar].drivers,((e,n)=>((0,a.uX)(),(0,a.CE)("div",{key:n,class:"driver-info"},[(0,a.Lk)("h3",null,"Driver "+(0,s.v_)(n+1),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.info,((n,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"input-group"},[(0,a.Lk)("label",{for:t},(0,s.v_)(t)+":",9,m),(0,a.bo)((0,a.Lk)("input",{id:t,type:"text","onUpdate:modelValue":n=>e.info[t]=n},null,8,g),[[o.Jo,e.info[t]]])])))),128))])))),128))])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),i.jsonData?((0,a.uX)(),(0,a.CE)("h3",w,"Raw JSON:")):(0,a.Q3)("",!0),i.jsonData?(0,a.bo)(((0,a.uX)(),(0,a.CE)("textarea",{key:2,"onUpdate:modelValue":n[4]||(n[4]=e=>i.jsonText=e),rows:"20",cols:"100"},null,512)),[[o.Jo,i.jsonText]]):(0,a.Q3)("",!0)])}t(4114),t(6573),t(8100),t(7936),t(7467),t(4732),t(9577),t(4603),t(7566),t(8721);var x={data(){return{jsonData:null,selectedCar:null,jsonText:""}},watch:{jsonData:{deep:!0,handler(e){this.jsonText=JSON.stringify(e,null,2)}}},methods:{downloadUtf16(e,n){var t,o=[];o.push(255,254);for(var a=0;a<e.length;++a)t=e.charCodeAt(a),o.push(255&t),o.push(t/256>>>0);var r=new Blob([new Uint8Array(o)],{type:"text/plain;charset=UTF-16LE;"}),i=URL.createObjectURL(r),s=document.createElement("a");if(s.href=i,s.download=n,document.createEvent){var l=document.createEvent("MouseEvents");l.initEvent("click",!0,!0),s.dispatchEvent(l)}else s.click()},onFileChange(e){const n=e.target.files[0],t=new FileReader;t.onload=e=>{var n=e.target.result;console.log(n),this.jsonData=JSON.parse(n),this.selectedCar=0,this.jsonText=JSON.stringify(this.jsonData,null,2)},t.readAsText(n,"UTF-16LE")},onCarFile(e){const n=e.target.files[0],t=new FileReader;t.onload=e=>{var n=e.target.result,t=JSON.parse(n);for(const o in t)this.jsonData.cars[this.selectedCar][o]=t[o]},t.readAsText(n,"UTF-16LE")},selectCar(e){this.selectedCar=e},addNewCar(){this.jsonData.cars=[...this.jsonData.cars,this.jsonData.cars[this.selectedCar]]},downloadJson(){this.downloadUtf16(this.jsonText,"championship_entrylist.json")}}},D=t(1241);const F=(0,D.A)(x,[["render",L],["__scopeId","data-v-01b6bb12"]]);var O=F,_={components:{JsonEditor:O}};const X=(0,D.A)(_,[["render",i]]);var J=X;(0,o.Ef)(J).mount("#app")}},n={};function t(o){var a=n[o];if(void 0!==a)return a.exports;var r=n[o]={exports:{}};return e[o].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(n,o,a,r){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],r=e[c][2];for(var s=!0,l=0;l<o.length;l++)(!1&r||i>=r)&&Object.keys(t.O).every((function(e){return t.O[e](o[l])}))?o.splice(l--,1):(s=!1,r<i&&(i=r));if(s){e.splice(c--,1);var u=a();void 0!==u&&(n=u)}}return n}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,a,r]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var a,r,i=o[0],s=o[1],l=o[2],u=0;if(i.some((function(n){return 0!==e[n]}))){for(a in s)t.o(s,a)&&(t.m[a]=s[a]);if(l)var c=l(t)}for(n&&n(o);u<i.length;u++)r=i[u],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(c)},o=self["webpackChunkacc_championship_entrylist_editor"]=self["webpackChunkacc_championship_entrylist_editor"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(7576)}));o=t.O(o)})();
//# sourceMappingURL=app.2226c5d8.js.map